{{if (eq .USE_IMAGE_PULL_SECRET "true")}}
apiVersion: v1
kind: Secret
metadata:
  name: {{.WILDCARD_TLS_SECRET}}
  namespace: {{.NAME}}-{{.ENV}}
  labels:
    app: {{.NAME}}-{{.ENV}}
    component: {{.COMPONENT}}
    type: tls-certificate
  annotations:
    replicator.v1.mittwald.de/replicate-from: {{.WILDCARD_TLS_NAMESPACE}}/{{.WILDCARD_TLS_SECRET}}
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: e30K
{{end}}
